<!doctype html>
<html>
<head>
<meta name=“keywords” content=“西藏, 西藏风景, 骑行西藏, 公益骑行, 骑行活动, 一公斤梦想, 西藏旅游, 去西藏, 骑行路线, 旅游资讯, 天上西藏, 走进西藏“/>
<meta name=“description” content=“天上西藏‘一公斤梦想’公益骑行是一个以公益、环保为主题，倡导旅游者在旅途中为贫困群体赠送爱心礼物，在返程时，带走一公斤垃圾，将洁净和绿色还给西藏的活动。”/>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>一公斤梦想公益骑行-天上西藏网站</title>
<title>无标题文档</title>
<link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div style="width: 600px; margin: 0 auto; padding-top: 20px;">
    <form id="enrollForm" name="enrollForm" class="form-horizontal" method="post" role="form">
      <div class="form-group">
        <label class="col-xs-3 control-label" style="padding-left: 0; padding-right: 0; font-weight: normal;"><span>*</span>姓名：</label>
        <div class="col-xs-4">
          <input type="text" name="userName" id="userName" class="form-control" placeholder="姓名">
        </div>
        <label class="col-xs-5 control-label" style="padding-left: 0; padding-right: 0; font-weight: normal;display: none;color: #F00;">姓名不能为空</label>
      </div>
      <div class="form-group">
        <label class="col-xs-3 control-label"
          style="padding-left: 0; padding-right: 0; font-weight: normal;"><span>*</span>身份证号码：</label>
        <div class="col-xs-4">
          <input type="text" name="cardId" id="cardId" class="form-control" placeholder="身份证号码">
        </div>
        <label class="col-xs-5 control-label" style="padding-left: 0; padding-right: 0; font-weight: normal;display: none;color: #F00;">身份证号码不能为空</label>
      </div>
      <div class="form-group">
        <label class="col-xs-3 control-label"
          style="padding-left: 0; padding-right: 0; font-weight: normal;"><span>*</span>性别：</label>
        <div class="col-xs-4">
          <select name="sex" id="sex" class="form-control">
            <option>男</option>
            <option>女</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label class="col-xs-3 control-label"
          style="padding-left: 0; padding-right: 0; font-weight: normal;"><span>*</span>手机：</label>
        <div class="col-xs-4">
          <input type="text" name="phone" id="phone" class="form-control" placeholder="手机">
        </div>
        <label class="col-xs-5 control-label" style="padding-left: 0; padding-right: 0; font-weight: normal;display: none;color: #F00;">电话不能为空</label>
      </div>
      <div class="form-group">
        <label class="col-xs-3 control-label"
          style="padding-left: 0; padding-right: 0; font-weight: normal;"><span>*</span>Email：</label>
        <div class="col-xs-4">
          <input type="text" name="email" id="email" class="form-control" placeholder="Email">
        </div>
        <label class="col-xs-5 control-label" style="padding-left: 0; padding-right: 0; font-weight: normal;display: none;color: #F00;">Email不能为空</label>
      </div>
      <div class="form-group">
        <div class="checkbox">
          <label class="col-xs-9 col-xs-offset-3">
            <input type="checkbox" value="">
            我已经阅读并同意
            <span>《天上西藏——“一公斤梦想”活动协议》</span>
          </label>
        </div>
      </div>
      <div class="form-group">
        <div class="col-xs-3 col-xs-offset-6">
          <button type="submit" id="loginBtn"
            class="form-control btn btn-primary"
            style="background: #46c2d8; border: 0;">提交报名</button>
        </div>
      </div>      
    </form>
  </div>
</body>
<script src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
<script>
$("#enrollForm").submit(function(){
  var username = $("#userName");
  var identity = $("#cardId");
  var phone = $("#phone");
  var email = $("#email");
  var sex = $("#sex");
  var cCardid = /(^\d{18}$)|(^\\d{17}(X|x)$)/;
  var cPhone = /^1[3|4|5|8][0-9]\d{8}$/;
  var cEmail = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;
  if(!username.val()){
    username.parent().next().show();
    return false;
  }else{
    username.parent().next().hide();
  }
  if(!cardid.val()){
    cardid.parent().next().show();
    return false;  
  }else if(!cCardid.test(cardid.val())){
    cardid.parent().next().show();
    cardid.parent().next().html("请输入正确的身份证号码");
    return false;  
  }else{
    cardid.parent().next().hide();
  }
  if(!phone.val()){
    phone.parent().next().show();
    return false;  
  }else if(!cPhone.test(phone.val())){
    phone.parent().next().show();
    phone.parent().next().html("请输入正确的手机");
    return false;  
  }else{
    phone.parent().next().hide();
  }
  if(!email.val()){
    email.parent().next().show();
    return false;  
  }else if(!cEmail.test(email.val())){
    email.parent().next().show();
    email.parent().next().html("请输入正确的Email");
    return false;  
  }else{
    email.parent().next().hide();
  }
  $.getJSON("/dreamer/register", {username:username,identity:identity,phone:phone,email:email,sex:1},function(data){
    alert(data.result);
  });
});

</script>
</html>
